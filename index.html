<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>معسكر المسار التأسيسي للأمن السيبراني</title>
    <link rel="stylesheet" type="text/css" href="./styles/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@100..900&display=swap"
      rel="stylesheet"
    />
  </head>

  <body dir="rtl" class="cybersecurity-bootcamp">
    <header class="container">
      <div class="right">
        <img class="logo-img" src="./assets/logo.png" alt="" />
        <div class="title">
          <h1>معسكر المسار التأسيسي للأمن السيبراني</h1>
          <h2><bdi>CyberSecurity Bootcamp Level 1</bdi></h2>
        </div>
      </div>
      <div class="left">
        <img class="lock-img" src="./assets/lock-image.png" alt="" />
      </div>
    </header>
    <main class="container">
      <div class="title first">
        <h3>ماذا ستتعلم في المعسكر</h3>
      </div>
      <!-- learn sections -->
      <div class="sections">
        <section>
          <h4><bdi>دورة +CompTIA Network</bdi></h4>
          <ul>
            <li>
              شرح مفاهيم الشبكات الأساسية، بما في ذلك نموذج OSI وأجهزة الشبكة
              والتطبيقات والمفاهيم السحابية وخيارات الاتصال والمزيد.
            </li>
            <li>
              فهم تقنيات التوجيه والعوامل المهمة للتركيبات المادية، تكوين تقنيات
              التبديل والأجهزة اللاسلكية.
            </li>
            <li>مراقبة وتحسين الشبكات لضمان استمرارية العمل</li>
            <li>
              فهم مفاهيم الأمان وهجمات الشبكة لتقوية الشبكات ضد التهديدات.
            </li>
            <li>
              شرح منهجية استكشاف الأخطاء وإصلاحها ومعالجة المشكلات الشائعة
              المتعلقة بالشبكات، بما في ذلك مشكلات الكابلات والاتصال والبرامج
            </li>
          </ul>
          <img class="double-arrow" src="./assets/double-arrow.png" alt="" />
          <div class="section-img">
            <img src="./assets/comptia.png" alt="" />
          </div>
          <!--  -->
          <img
            class="section-img-number"
            src="./assets/numbers/one@2x.png"
            alt=""
          />
        </section>
        <section>
          <h4><bdi>دورة +CompTIA Security</bdi></h4>
          <ul>
            <li>مفاهيم الأمن السيبراني الرئيسية</li>
            <li>
              الاستجابة للتهديدات الشائعة والهجمات الإلكترونية ونقاط الضعف
              والحوادث الأمنية
            </li>
            <li>
              الآثار الأمنية لنماذج البنية المختلفة، ومبادئ تأمين البنية التحتية
              ، واستراتيجيات حماية البيانات
            </li>
            <li>
              تطبيق وتعزيز تقنيات إدارة الأمان والثغرات الأمنية، بالإضافة إلى
              الآثار الأمنية المترتبة على إدارة الأجهزة والبرامج والبيانات
              المناسبة.
            </li>
            <li>
              إعداد التقارير والاتصال المطلوبة للأدوار الوظيفية لـ Security+
              المتعلقة بالحوكمة وإدارة المخاطر والامتثال والتقييم والوعي الأمني
            </li>
          </ul>
          <img class="double-arrow" src="./assets/double-arrow.png" alt="" />
          <div class="section-img">
            <img src="./assets/security@2x.png" alt="" />
          </div>
          <img
            class="section-img-number"
            src="./assets/numbers/two@2x.png"
            alt=""
          />
        </section>
        <section>
          <h4><bdi>دورة +CompTIA Linux</bdi></h4>
          <ul>
            <li>عمليات تثبيت البرامج والتكوينات والتحديثات والإزالة.</li>
            <li>إدارة المستخدمين والمجموعات.</li>
            <li>إنشاء الملفات وتعديلها وإعادة توجيهها.</li>
            <li>إدارة الخدمات وإدارة النظام.</li>
            <li>تنفيذ وتكوين جدار الحماية لنظام لينكس.</li>
            <li>النسخ الاحتياطي، والاستعادة، وضغط الملفات</li>
          </ul>
          <img class="double-arrow" src="./assets/double-arrow.png" alt="" />
          <div class="section-img">
            <img src="./assets/linux@2x.png" alt="" />
          </div>
          <img
            class="section-img-number"
            src="./assets/numbers/three@2x.png"
            alt=""
          />
        </section>
        <section>
          <h4><bdi>دورة eJPT - Junior Penetration Tester</bdi></h4>
          <ul>
            <li>تحديد المنافذ والخدمات المفتوحة على الهدف</li>
            <li>تحديد نظام التشغيل للهدف</li>
            <li>جمع معلومات الشبكة من الملفات الموجودة على الهدف</li>
            <li>جمع معلومات حساب المستخدم على الهدف</li>
            <li>تحديد وتعديل عمليات استغلال الثغرات</li>
            <li>إجراء الاستغلال الثغرات باستخدام Metasploit</li>
            <li>تحديد موقع الملفات المخفية</li>
            <li>كسر تشفير كلمات المرور للمواقع</li>
            <li>جمع معلومات واستغلال ثغرات مواقع الويب</li>
          </ul>
          <img class="double-arrow" src="./assets/double-arrow.png" alt="" />
          <div class="section-img">
            <img src="./assets/ejpt@2x.png" alt="" />
          </div>
          <img
            class="section-img-number"
            src="./assets/numbers/four@2x.png"
            alt=""
          />
        </section>
        <section>
          <h4><bdi>Blue Team Level دورة 1</bdi></h4>
          <ul>
            <li>تحليل هجمات التصيد والرد عليها</li>
            <li>إجراء تحقيقات الرقمية لجمع وتحليل الأدلة الرقمية</li>
            <li>استخدام منصة SIEM للتحقيق في الأنشطة الضارة</li>
            <li>تحليل السجل وحركة مرور الشبكة بما في ذلك البرامج الضارة</li>
            <li>إجراء بحث عن الجهات التهديدية</li>
          </ul>
          <img class="double-arrow" src="./assets/double-arrow.png" alt="" />
          <div class="section-img">
            <img src="./assets/blue-team@2x.png" alt="" />
          </div>
          <img
            class="section-img-number"
            src="./assets/numbers/five@2x.png"
            alt=""
          />
        </section>
      </div>
      <!--  -->
      <div class="title last">
        <h3>تفاصيل المعسكر</h3>
      </div>
      <!-- details -->
      <section class="register-details my-20">
        <div>
          <div>
            <img src="assets/date.png" alt="" />
            <div>
              <p>بـدايــــــة مــــن</p>
              <p><bdi>06/10/2024</bdi></p>
            </div>
          </div>
          <div>
            <img src="assets/clock@2x.png" alt="" />
            <div>
              <p>مـــدة المعكـــسر</p>
              <p><bdi>12 أســـــــــــــبوع</bdi></p>
            </div>
          </div>
          <div>
            <img src="assets/attendance@2x.png" alt="" />
            <div>
              <p>تقــــديم الـــــدورة</p>
              <p><bdi>حضوري - عن بعد</bdi></p>
            </div>
          </div>
          <div>
            <img src="assets/clock@2x.png" alt="" />
            <div>
              <p><bdi>الساعة 07:00pm</bdi></p>
              <p><bdi>إلـــــى 10:00pm </bdi></p>
            </div>
          </div>
          <div>
            <img src="assets/reserve@2x.png" alt="" />
            <div>
              <p>حجز المقعد</p>
              <p>
                <bdi style="font-size: 14px"
                  ><span
                    style="font-size: 27px; font-weight: bolder; line-height: 1"
                    >100</span
                  >
                  ريــــال</bdi
                >
              </p>
            </div>
            <p>(يتم استكمال باقي مبلغ المعسكر بعد حضور أول محاضرة)</p>
          </div>
        </div>
        <div>
          <h4>سعر المعسكر</h4>
          <ul>
            <li>
              <img src="assets/discount@2x.png" alt="" />
              <span>
                <bdi>7935 <span>ريال</span></bdi>
              </span>
            </li>
            <li>
              <span>
                <bdi>4700 <span>ريال</span></bdi>
              </span>
            </li>
          </ul>
        </div>
      </section>
      <!--  -->
      <div class="title">
        <h3>تحميل محاور المعسكر</h3>
      </div>
      <!-- registeration -->
      <form action="" class="my-20">
        <!-- name -->
        <div>
          <label for="name">الاسم الرباعي الكامل</label>
          <input required id="name" type="text" />
        </div>
        <!-- email -->
        <div>
          <label for="email">البريد الالكتروني</label>
          <input required id="email" type="email" />
        </div>
        <!-- education -->
        <div>
          <label for="education">المؤهل العلمي</label>
          <select required name="" id="education">
            <option value="جامعي">جامعي</option>
            <option value="ثانوي">ثانوي</option>
            <option value="دبلوم">دبلوم</option>
          </select>
        </div>
        <!-- phone -->
        <div>
          <label for="phone">رقم الجوال</label>
          <input required id="phone" type="text" />
        </div>
        <!-- attendance -->
        <div>
          <label for="attendance">حضور الدورة</label>
          <select required name="" id="attendance">
            <option value="اونلاين">اونلاين (عن بعد)</option>
            <option value="حضوري">حضوري</option>
          </select>
        </div>
        <!-- SUBMIT -->
        <div class="submit">
          <label for="">حضور الدورة</label>

          <button type="submit">تسجيل</button>
        </div>
      </form>
    </main>
    <!-- POPUP -->
    <div class="popup-form-result">
      <img id="closePopup" src="./assets/close-popup@2x.png" alt="" />
      <img class="success-logo" src="./assets/success-logo@2x.png" alt="" />
      <p class="popup-form-message">تم التسجيل بنجاح</p>
      <small>جاري تحويلك لاستكمال الحجز...</small>
    </div>
    <!-- background -->
    <img class="background" src="./assets/background.png" alt="" />
    <script>
      const noCacheHeaders = {
        "Content-Type": "application/json",
        "Cache-Control":
          "no-store, no-cache, must-revalidate, proxy-revalidate",
        Pragma: "no-cache",
        Expires: "0",
        "Surrogate-Control": "no-store",
      };

      //custom fetch function with error handling
      async function fetchWithCheck(url, options = {}, fallBack) {
        try {
          const response = await fetch(url, {
            cache: "no-cache",
            ...options,
            headers: {
              ...noCacheHeaders,
              ...options?.headers,
            },
          });

          console.log("response.ok");
          console.log(response.ok);

          let data = await response.text();

          if (!response.ok) {
            let finalData;
            try {
              console.log("throw JSON.parse(data)");
              console.log(data);
              finalData = JSON.parse(data);
            } catch {
              console.log("throw final Data");
              finalData = data;
            } finally {
              console.log("finalData");
              console.log(finalData);
              throw finalData;
            }
          }

          console.log("fetching ok");

          try {
            return JSON.parse(data);
          } catch {
            return data;
          }
        } catch (error) {
          console.error("fetch with check catch");
          console.error(error);
          if (fallBack) return fallBack;
          throw error;
        }
      }

      const form = document.querySelector("form");
      const resultPopup = document.querySelector(".popup-form-result");

      //FORM SUBMISSION
      form.addEventListener("submit", async (e) => {
        e.preventDefault();

        const name = document.querySelector("#name").value;
        const email = document.querySelector("#email").value;
        const education = document.querySelector("#education").value;
        const phone = document.querySelector("#phone").value;
        const attendance = document.querySelector("#attendance").value;
        try {
          const result = await fetchWithCheck(
            "https://kh.abadnet.com.sa/api/Camps",
            {
              method: "POST",
              body: {
                id: 0, // TODO: fix this
                name: name,
                email: email,
                education: education,
                phoneNumber: phone,
                typeCourse: attendance,
                createdCode: new Date().toISOString(), // TODO: fix this
              },
            }
          );
          console.log(result);

          // DEVELOPMENT only
          // TODO: remove this
          // const devResult = await new Promise((res, rej) => {
          //   setTimeout(() => {
          //     res("https://www.google.com/");
          //   }, 2000);
          // });

          resultPopup.classList.remove("failure")
          resultPopup.style.display = "flex";

          const redirectTimeOut = setTimeout(() => {
            window.location = result.redirectUrl;
            return clearTimeout(redirectTimeOut);
          }, 3000);
        } catch (err) {
          const popUpMessageContainer = document.querySelector(".popup-form-result p");

          resultPopup.classList.add("failure")
          resultPopup.style.display = "flex";
          popUpMessageContainer.textContent = "حدث خطأ في التسجيل"; 
          console.log(err);
        }
      });

      const closePopupBtn = document.querySelector("#closePopup");

      closePopupBtn.addEventListener("click", () => {
        resultPopup.style.display = "none";
      });
    </script>
  </body>
</html>
